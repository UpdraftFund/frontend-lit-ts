<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subgraph Tests</title>
</head>

<body>
    <button id="fetchIdeas">Get All Ideas Names</button>
    <div id="result"></div>
    <br>
    <br>
    <input type="text" id="searchText" placeholder="Enter search text">
    <button id="fetchIdeasFullText">Get Ideas Full Text</button>
    <div id="resultFullText"></div>

    <script type="module">
        import { getAllIdeasNames, ideasFullText } from './src/queries/ideas.ts';

        document.getElementById('fetchIdeas').addEventListener('click', async () => {
            try {
                console.log("Fetching ideas...");
                const data = await getAllIdeasNames();
                const resultDiv = document.getElementById('result');
                resultDiv.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                console.error('Error fetching ideas:', error);
                const resultDiv = document.getElementById('result');
                resultDiv.textContent = 'Error fetching ideas: ' + error.message;
            }
        });

        document.getElementById('fetchIdeasFullText').addEventListener('click', async () => {
            try {
                const searchText = document.getElementById('searchText').value;
                const data = await ideasFullText(searchText);
                const resultDiv = document.getElementById('resultFullText');
                resultDiv.innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                console.error('Error fetching ideas full text:', error);
                const resultDiv = document.getElementById('resultFullText');
                resultDiv.textContent = 'Error fetching ideas full text: ' + error.message;
            }
        });
    </script>
</body>

</html>